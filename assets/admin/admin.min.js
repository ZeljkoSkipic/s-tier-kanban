jQuery(document).ready(function(n){var i=n("input[name='board-documents']"),o=i.val()?i.val().split(","):[];n(".board-upload-button").on("click",function(){var t=wp.media({title:"Insert Files",button:{text:"Use these files"},multiple:!0});t.on("open",function(){var e=t.state().get("selection");o.forEach(function(t){t=wp.media.attachment(t);t.fetch(),e.add(t)}),e.on("remove",function(t){var e=t.id.toString();n(".board-files li").each(function(){n(this).data("id").toString()===e&&n(this).remove()}),o=o.filter(function(t){return t!==e}),i.val(o.join(","))})}),t.on("select",function(){t.state().get("selection").map(function(t){return t.toJSON()}).forEach(function(t){var e=t.id.toString();o.includes(e)||(n(".board-files").append('<li data-id="'.concat(e,'"><span> ').concat(t.filename,' </span><a href="#" class="board-file-remove">Ã—</a></li>')),o.push(e))}),i.val(o.join(","))}),t.open()}),n(".board-files").on("click",".board-file-remove",function(t){t.preventDefault();var e=n(this).closest("li").data("id").toString();n(this).closest("li").remove(),o=o.filter(function(t){return t!==e}),i.val(o.join(","))})});